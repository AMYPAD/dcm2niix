## About

dcm2niix is designed to convert complicated DICOM images in to simple NIfTI
images. However, the NIfTI images are unable to store much metadata that might
be useful for analyses. Therefore, dcm2niix can create Brain Imaging Data
Structure ([BIDS](https://bids.neuroimaging.io)) files that retain useful
information. These are simple human-readable text files in the
[JSON](https://en.wikipedia.org/wiki/JSON) format. The tables below provide
details regarding the JSON fields generated by dcm2niix. Some of these are
defined by the BIDS standard, while others are unique to dcm2niix.

Note that dcm2niix cannot provide information that is not in the DICOM header.
Common reasons for absent fields are:
 - irrelevance to the scan type, e.g. MagneticFieldStrength for CT
 - it was removed from the DICOM during anonymization, possibly by accident or overzealousness
 - difficulty interpreting the storage format used by the manufacturer
 - the manufacturer simply neglected to write it
 

The Manufacturer section of the tables uses the following abbreviations
 
 - G : GE only.
 - P : Philips only.
 - S : Siemens only.
 
The Defined By column uses

- B : The [BIDS](https://bids.neuroimaging.io) standard
- D : dcm2niix (often, but not always, these come directly from the DICOM header without transformation)

##### Constants

These fields should be the same for all images acquired on a specific scanner.

| Field                       | Unit | Manufacturer | Comments             | Defined By |
|-----------------------------|------|--------------|----------------------|------------|
| Manufacturer                |      |              | DICOM tag 0008, 0070 | B          |
| ManufacturersModelName      |      |              | DICOM tag 0008, 1090 | B          |
| DeviceSerialNumber          |      |              | DICOM tag 0018, 1000 | B          |
| StationName                 |      |              | DICOM tag 0008, 1010 | B          |
| SoftwareVersions            |      |              | DICOM tag 0018, 1020 | B          |
| MagneticFieldStrength       | T    |              | DICOM tag 0018, 0087 | B          |
| Modality                    |      |              |                      |            |
| PulseSequenceName           |      | G            |                      |            |
| InternalPulseSequenceName   |      | G            |                      |            |
| ManufacturersModelName      |      |              |                      |            |
| InstitutionName             |      |              |                      |            |
| InstitutionalDepartmentName |      |              |                      |            |
| InstitutionAddress          |      |              |                      |            |
| DeviceSerialNumber          |      |              |                      |            |
| StationName                 |      |              |                      |            |

##### Private Information

These fields contain personally identifiable information. By default dcm2niix will create anonymized files without these fields. The option `-ba n` will retain private information.


|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|SeriesInstanceUID| | | From DICOM [0020,000E](http://dicomlookup.com/lookup.asp?sw=Tnumber&q=(0020,000E)) | |
|StudyInstanceUID| | | |
|ReferringPhysicianName| | | |
|StudyID| | | |
|PatientName| | | |
|PatientID| | | |
|AccessionNumber| | | |
|PatientBirthDate| | | |
|PatientWeight| nominally kg | | |
|AcquisitionDateTime| | | |

##### Series Information

Fields common to all scans, regardless of modality or manufacturer.

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|BodyPartExamined| | | | |
|PatientPosition| | | | |
|ProcedureStepDescription| | | | |
|SoftwareVersions| | | | |
|SeriesDescription| | | | |
|ProtocolName| | | | |
|ScanningSequence| | | | |
|SequenceVariant| | | | |
|ScanOptions| | | | |
|SequenceName| | | | |
|ImageType| list | | | |
|AcquisitionTime| | | | |
|AcquisitionNumber| | | | |
|ImageComments| | | | |
|ConversionSoftware| | | Name of the program that converted from DICOM to NIFTI | |
|ConversionSoftwareVersion| | | | |


##### Philips Sequence Information

Data unique to Philips, including [custom intensity scaling](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3998685/)

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|TriggerDelayTime| s? | P | |
|PhilipsRWVSlope | | P | |
|PhilipsRWVIntercept | | P | |
|PhilipsRescaleSlope| | P | |
|PhilipsRescaleIntercept| | P | |
|PhilipsScaleSlope| | P | |
|UsePhilipsFloatNotDisplayScaling| | P | |

##### Positron Emission Tomography Isotope Module Attributes

PET fields extracted from [DICOM tags](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.8.9.2.html). See BIDS [BEP009 Positron Emission Tomography](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).

This is a [work in progress](https://github.com/bids-standard/bids-specification/pull/773).

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|Radiopharmaceutical| | | | |
|RadionuclidePositronFraction| | | | |
|RadionuclideTotalDose| | | | |
|RadionuclideHalfLife| | | | |
|DoseCalibrationFactor| | | | |
|IsotopeHalfLife| s? | | | |
|Dosage| | | | |
|ConvolutionKernel| | | | |
|Units| | | | |
|DecayCorrection| | | | |
|AttenuationCorrectionMethod| | | | |
|ReconstructionMethod| | | | |
|DecayFactor| | | | |
|FrameTimesStart| s | | | |
|FrameDuration| s | | | |

##### Computerized Tomography

Fields specific to CT scans.

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|XRayExposure| | | | Relative x-ray exposure from DICOM [0018,1405](http://dicomlookup.com/lookup.asp?sw=Tnumber&q=(0018,1405))| |

##### Magnetic Resonance Imaging

Fields specific to MRI scans.

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|MRAcquisitionType| | | `2D` or `3D` | |
|Units| | | `Hz` only for field maps| |
|SliceThickness| mm | |  | D |
|SpacingBetweenSlices| mm | | | D |
|SAR| | | | |
|NumberOfAverages| | | | |
|EchoNumber| | | Only for multi-echo series| |
|EchoTime| s | | | |
|RepetitionTime| s | | | |
|RepetitionTimeExcitation| s | | | |
|RepetitionTimeInversion| s | | | |
|InversionTime| s | | | |
|ImagingFrequency| MHz | | | D? |
|FlipAngle| degrees | | | |
|PhaseEncodingDirection| | | i, j | |
|PhaseEncodingPolarityGE| | G | | D |


##### Arterial Spin Labeling
See BIDS [BEP005 Arterial Spin
Labeling](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).

| Field                 | Unit            | Manufacturer | Comments                                                                                                                         | Defined By |
|-----------------------|-----------------|--------------|----------------------------------------------------------------------------------------------------------------------------------|------------|
| LabelOffset           |                 | S            | 2D pCASL [ep2d_pcasl](http://www.loft-lab.org)                                                                                   | B          |
| PostLabelDelay        | s               | S            | 2D pCASL [ep2d_pcasl](http://www.loft-lab.org), [FAIREST](https://pubmed.ncbi.nlm.nih.gov/11746944/) (`ep2d_fairest`)            | B          |
| PostInversionDelay    | s               | S            | 2D [FAIREST](https://pubmed.ncbi.nlm.nih.gov/11746944/) (`ep2d_fairest`)                                                         | B          |
| NumRFBlocks           |                 | S            | 2D pCASL [ep2d_pcasl](http://www.loft-lab.org)                                                                                   | B          |
| RFGap                 |                 | S            | 2,3D pCASL [ep2d_pcasl, tgse_pcasl](http://www.loft-lab.org),                                                                    | B          |
| MeanGzx10             |                 | S            | 2,3D pCASL [ep2d_pcasl, tgse_pcasl](http://www.loft-lab.org)                                                                     | B          |
| PhiAdjust             |                 | S            | 2D pCASL [ep2d_pcasl](http://www.loft-lab.org)                                                                                   | B          |
| InversionTime         | s               | S            | 2D pASL product (`ep2d_pasl`, `tgse_pasl`), [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`) | B          |
| SaturationStopTime    | s               | S            | 2D pASL product (`ep2d_pasl`)                                                                                                    | B          |
| BolusDuration         | s               | S            | 2D pASL product (`tgse_pasl`), [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)              | B          |
| MeanGzx10             |                 | S            | 3D pCASL [tgse_pcasl](http://www.loft-lab.org)                                                                                   | B          |
| TagRFFlipAngle        | degrees         | S            | 2,3D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`, `jw_tgse_VEPCASL`)                     | B          |
| TagRFDuration         | s               | S            | 2,3D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`, `jw_tgse_VEPCASL`)                     | B          |
| TagRFSeparation       |                 | S            | 2,3D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`, `jw_tgse_VEPCASL`)                     | B          |
| MeanTagGradient       |                 | S            | 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)                                          | B          |
| TagGradientAmplitude  |                 | S            | 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)                                          | B          |
| TagDuration           | s               | S            | 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)                                          | B          |
| MaximumT1Opt          |                 | S            | 2,3D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`, `jw_tgse_VEPCASL`)                     | B          |
| InitialPostLabelDelay | s               | S            | 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)                                          | B          |
| sWipMemBlockAdFree*   | multiple values | S            | 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)                                          | B          |
| TagPlaneDThickness    |                 | S            | 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)                                          | B          |
| TagPlaneUlShape       |                 | S            | 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)                                          | B          |
| TagPlaneSPositionDTra |                 | S            | 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)                                          | B          |
| TagPlaneSNormalDTra   |                 | S            | 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`)                                          | B          |
| Tag* (if not explicitly listed)  | One value for each                | S            | [Post-label delays](https://fsl.fmrib.ox.ac.uk/fslcourse/lectures/practicals/ASLpractical/index.html), 3D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`jw_tgse_VEPCASL`)                                          | B          |


##### Magnetic Resonance Imaging (Siemens V*)

Fields specific to Siemens V*-series (e.g. VB, VE) MRI systems (e.g. Verio, Trio, Prisma) from the [CSA header](https://nipy.org/nibabel/dicom/siemens_csa.html).


|Field|Notes|Comments|
|-----|-----|-----|
|EchoTime1| | For Fieldmaps created with two echo times|
|EchoTime2| | For Fieldmaps created with two echo times|
|PartialFourier| S | Partial fourier fraction, e.g. image with 6/8 pF will report `0.75` |
|Interpolation2D| S | If present, slices interpolated within plane|
|Interpolation3D| S | If present, image interpolated in all spatial dimensions|
|BaseResolution| S | |
|ShimSetting| S | |
|DiffusionScheme| | `Monopolar` or `Bipolar`|
|DelayTime| S | |
|TxRefAmp| S | |
|PhaseResolution| S | |
|PhaseOversampling| S | |
|VendorReportedEchoSpacing| S | |
|ReceiveCoilName| S | |
|ReceiveCoilActiveElements| S | |
|CoilString| S | |
|PulseSequenceDetails| S | |
|FmriExternalInfo| S | |
|WipMemBlock| S | |
|ProtocolName| S | |
|RefLinesPE| S | |
|ConsistencyInfo| S | Sequence software version|

##### Magnetic Resonance Imaging (Siemens XA)

Fields specific to Siemens XA-series MRI systems (Sola, Vida).

|Field|Notes|Comments|
|-----|-----|-----|
|ReceiveCoilActiveElements| S | |
|CoilString| S | |
|PartialFourier| S | |

##### Magnetic Resonance Imaging

Fields found in typical MRI sequences.

|Field|Notes|Comments|
|-----|-----|-----|
|MultibandAccelerationFactor| | Multiple 2D EPI slices in 3D volume acquired simultaneously(`HyperBand`, `SMS`)|
|PercentPhaseFOV| | |
|PercentSampling| | |
|EchoTrainLength| | |
|PartialFourierEnabled|P|This field will report `YES`, for fraction see `PartialFourier`  |
|PhaseEncodingStepsNoPartialFourier|P| Does not take partial Fourier into account|
|PhaseEncodingSteps| | |
|AcquisitionMatrixPE| | |
|BandwidthPerPixelPhaseEncode| | |
|ParallelReductionFactorInPlane| | Partial sampling of k-space (`SENSE`, `GRAPPA`)|
|ParallelReductionOutOfPlane| | |
|WaterFatShift| | |
|EstimatedEffectiveEchoSpacing| | |
|EstimatedTotalReadoutTime| | |
|EffectiveEchoSpacing| | |
|DerivedVendorReportedEchoSpacing| | |
|TotalReadoutTime| | [FSL's definition](https://github.com/rordenlab/dcm2niix/tree/master/GE) of time to read a 2D EPI slice|
|PixelBandwidth| | |
|DwellTime| | |
|PhaseEncodingAxis| |Only populated if polarity of phase encoding is not known. Values `j` or `i`. see `PhaseEncodingDirection ` |
|PhaseEncodingDirection| | Phase axis and polarity. Values `j`,`i`,`j-`,`i-` |
|SliceTiming| | One value for each slice in EPI volume|
|ImageOrientationPatientDICOM| | |
|InPlanePhaseEncodingDirectionDICOM| | |


##### Conversion Tool

Details of software used to convert DICOM to NIfTI/BIDS.

|Field|Notes|Comments|
|-----|-----|-----|
|ConversionSoftware| |`dcm2niix` |
|ConversionSoftwareVersion| | Based on date of release, e.g. [`v1.0.20210317`](https://github.com/rordenlab/dcm2niix/releases)|
