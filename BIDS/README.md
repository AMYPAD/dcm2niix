## About

dcm2niix is designed to convert complicated DICOM images in to simple NIfTI images. However, the NIfTI images are unable to store much metadata that might be useful for analyses. Therefore, dcm2niix can create Brain Imaging Data Structure ([BIDS](https://bids.neuroimaging.io)) files that retain useful information. These are simple human-readable text files in the [JSON](https://en.wikipedia.org/wiki/JSON) format. The tables below provide details regarding the JSON fields generated by dcm2niix. Some of these are defined by the BIDS standard, while others are unique to dcm2niix.

The Manufacturer section of the tables uses the following abbreviations
 
 - G : GE only.
 - P : Philips only.
 - S : Siemens only.
 
The Defined By column uses

- B : The [BIDS](https://bids.neuroimaging.io) standard
- D : dcm2niix (often, but not always, these come directly from the DICOM header without transformation)

##### Constants

These fields should be the same for all images acquired on a specific scanner.

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|Manufacturer| | | | |
|MagneticFieldStrength| T | | | |
|Modality| | | | |
|PulseSequenceName| | G | | |
|InternalPulseSequenceName| | G | | |
|ManufacturersModelName| | | | |
|InstitutionName| | | | |
|InstitutionalDepartmentName| | | | |
|InstitutionAddress| | | | |
|DeviceSerialNumber| | | | |
|StationName| | | | |

##### Private Information

These fields contain personally identifiable information. By default dcm2niix will create anonymized files without these fields. The option `-ba n` will retain private information.


|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|SeriesInstanceUID| | | From DICOM [0020,000E](http://dicomlookup.com/lookup.asp?sw=Tnumber&q=(0020,000E)) | |
|StudyInstanceUID| | | |
|ReferringPhysicianName| | | |
|StudyID| | | |
|PatientName| | | |
|PatientID| | | |
|AccessionNumber| | | |
|PatientBirthDate| | | |
|PatientWeight| nominally kg | | |
|AcquisitionDateTime| | | |

##### Series Information

Fields common to all scans, regardless of modality or manufacturer.

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|BodyPartExamined| | | | |
|PatientPosition| | | | |
|ProcedureStepDescription| | | | |
|SoftwareVersions| | | | |
|SeriesDescription| | | | |
|ProtocolName| | | | |
|ScanningSequence| | | | |
|SequenceVariant| | | | |
|ScanOptions| | | | |
|SequenceName| | | | |
|ImageType| list | | | |
|AcquisitionTime| | | | |
|AcquisitionNumber| | | | |
|ImageComments| | | | |
|ConversionSoftware| | | Name of the program that converted from DICOM to NIFTI | |
|ConversionSoftwareVersion| | | | |


##### Philips Sequence Information

Data unique to Philips, including [custom intensity scaling](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3998685/)

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|TriggerDelayTime| s? | P | |
|PhilipsRWVSlope | | P | |
|PhilipsRWVIntercept | | P | |
|PhilipsRescaleSlope| | P | |
|PhilipsRescaleIntercept| | P | |
|PhilipsScaleSlope| | P | |
|UsePhilipsFloatNotDisplayScaling| | P | |

##### Positron Emission Tomography Isotope Module Attributes

PET fields extracted from [DICOM tags](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.8.9.2.html). See BIDS [BEP009 Positron Emission Tomography](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).

This is a [work in progress](https://github.com/bids-standard/bids-specification/pull/773).

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|Radiopharmaceutical| | | | |
|RadionuclidePositronFraction| | | | |
|RadionuclideTotalDose| | | | |
|RadionuclideHalfLife| | | | |
|DoseCalibrationFactor| | | | |
|IsotopeHalfLife| s? | | | |
|Dosage| | | | |
|ConvolutionKernel| | | | |
|Units| | | | |
|DecayCorrection| | | | |
|AttenuationCorrectionMethod| | | | |
|ReconstructionMethod| | | | |
|DecayFactor| | | | |
|FrameTimesStart| s | | | |
|FrameDuration| s | | | |

##### Computerized Tomography

Fields specific to CT scans.

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|XRayExposure| | | | Relative x-ray exposure from DICOM [0018,1405](http://dicomlookup.com/lookup.asp?sw=Tnumber&q=(0018,1405))| |

##### Magnetic Resonance Imaging

Fields specific to MRI scans.

|Field|Unit|Manufacturer|Comments|Defined By|
|-----|----|------------|--------|----------|
|MRAcquisitionType| | | `2D` or `3D` | |
|Units| | | `Hz` only for field maps| |
|SliceThickness| mm | |  | D |
|SpacingBetweenSlices| mm | | | D |
|SAR| | | | |
|NumberOfAverages| | | | |
|EchoNumber| | | Only for multi-echo series| |
|EchoTime| s | | | |
|RepetitionTime| s | | | |
|RepetitionTimeExcitation| s | | | |
|RepetitionTimeInversion| s | | | |
|InversionTime| s | | | |
|ImagingFrequency| MHz | | | D? |
|FlipAngle| degrees | | | |
|PhaseEncodingDirection| | | i, j | |
|PhaseEncodingPolarityGE| | G | | D |


##### Arterial Spin Labeling

Siemens 2D pCASL [ep2d_pcasl](http://www.loft-lab.org). See BIDS [BEP005 Arterial Spin Labeling](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).


|Field|Notes|Comments|
|-----|-----|-----|
|LabelOffset| S | |
|PostLabelDelay| S | |
|NumRFBlocks| S | |
|RFGap| S | |
|MeanGzx10| S | |
|PhiAdjust| S | |

##### Arterial Spin Labeling

Siemens 3D pCASL [tgse_pcasl](http://www.loft-lab.org). See BIDS [BEP005 Arterial Spin Labeling](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).

|Field|Notes|Comments|
|-----|-----|-----|
|RFGap| S | |
|MeanGzx10| S | |
|T1| S | |

##### Arterial Spin Labeling

Siemens 2D PASL product sequence (`ep2d_pasl`). See BIDS [BEP005 Arterial Spin Labeling](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).


|Field|Notes|Comments|
|-----|-----|-----|
|InversionTime| S | |
|SaturationStopTime| S | |

##### Arterial Spin Labeling

Siemens 2D PASL product sequence (`tgse_pasl`). See BIDS [BEP005 Arterial Spin Labeling](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).
|Field|Notes|Comments|
|-----|-----|-----|
|BolusDuration| S | |
|InversionTime| S | |

##### Arterial Spin Labeling

Siemens 2D [FAIREST](https://pubmed.ncbi.nlm.nih.gov/11746944/) (`ep2d_fairest`). See BIDS [BEP005 Arterial Spin Labeling](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).

|Field|Notes|Comments|
|-----|-----|-----|
|PostInversionDelay| S | |
|PostLabelDelay| S | |

##### Arterial Spin Labeling

Siemens 2D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`to_ep2d_VEPCASL`). See BIDS [BEP005 Arterial Spin Labeling](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).


|Field|Notes|Comments|
|-----|-----|-----|
|InversionTime| S | |
|BolusDuration| S | |
|TagRFFlipAngle| S | |
|TagRFDuration| S | |
|TagRFSeparation| S | |
|MeanTagGradient| S | |
|TagGradientAmplitude| S | |
|TagDuration| S | |
|MaximumT1Opt| S | |
|InitialPostLabelDelay| S | |
|sWipMemBlockAdFree*| S | Multiple values |
|TagPlaneDThickness| S | |
|TagPlaneUlShape| S | |
|TagPlaneSPositionDTra| S | |
|TagPlaneSNormalDTra| S | |

##### Arterial Spin Labeling

Siemens 3D [VEPCASL](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3824178/) (`jw_tgse_VEPCASL`). See BIDS [BEP005 Arterial Spin Labeling](https://bids-specification.readthedocs.io/en/v1.2.1/06-extensions.html).

|Field|Notes|Comments|
|-----|-----|-----|
|TagRFFlipAngle| S | |
|TagRFDuration| S | |
|TagRFSeparation| S | |
|MaximumT1Opt| S | |
|Tag*| S | One value for each [post-label delays](https://fsl.fmrib.ox.ac.uk/fslcourse/lectures/practicals/ASLpractical/index.html) |

##### Magnetic Resonance Imaging (Siemens V*)

Fields specific to Siemens V*-series (e.g. VB, VE) MRI systems (e.g. Verio, Trio, Prisma) from the [CSA header](https://nipy.org/nibabel/dicom/siemens_csa.html).


|Field|Notes|Comments|
|-----|-----|-----|
|EchoTime1| | For Fieldmaps created with two echo times|
|EchoTime2| | For Fieldmaps created with two echo times|
|PartialFourier| S | Partial fourier fraction, e.g. image with 6/8 pF will report `0.75` |
|Interpolation2D| S | If present, slices interpolated within plane|
|Interpolation3D| S | If present, image interpolated in all spatial dimensions|
|BaseResolution| S | |
|ShimSetting| S | |
|DiffusionScheme| | `Monopolar` or `Bipolar`|
|DelayTime| S | |
|TxRefAmp| S | |
|PhaseResolution| S | |
|PhaseOversampling| S | |
|VendorReportedEchoSpacing| S | |
|ReceiveCoilName| S | |
|ReceiveCoilActiveElements| S | |
|CoilString| S | |
|PulseSequenceDetails| S | |
|FmriExternalInfo| S | |
|WipMemBlock| S | |
|ProtocolName| S | |
|RefLinesPE| S | |
|ConsistencyInfo| S | Sequence software version|

##### Magnetic Resonance Imaging (Siemens XA)

Fields specific to Siemens XA-series MRI systems (Sola, Vida).

|Field|Notes|Comments|
|-----|-----|-----|
|ReceiveCoilActiveElements| S | |
|CoilString| S | |
|PartialFourier| S | |

##### Magnetic Resonance Imaging

Fields found in typical MRI sequences.

|Field|Notes|Comments|
|-----|-----|-----|
|MultibandAccelerationFactor| | Multiple 2D EPI slices in 3D volume acquired simultaneously(`HyperBand`, `SMS`)|
|PercentPhaseFOV| | |
|PercentSampling| | |
|EchoTrainLength| | |
|PartialFourierEnabled|P|This field will report `YES`, for fraction see `PartialFourier`  |
|PhaseEncodingStepsNoPartialFourier|P| Does not take partial Fourier into account|
|PhaseEncodingSteps| | |
|AcquisitionMatrixPE| | |
|BandwidthPerPixelPhaseEncode| | |
|ParallelReductionFactorInPlane| | Partial sampling of k-space (`SENSE`, `GRAPPA`)|
|ParallelReductionOutOfPlane| | |
|WaterFatShift| | |
|EstimatedEffectiveEchoSpacing| | |
|EstimatedTotalReadoutTime| | |
|EffectiveEchoSpacing| | |
|DerivedVendorReportedEchoSpacing| | |
|TotalReadoutTime| | [FSL's definition](https://github.com/rordenlab/dcm2niix/tree/master/GE) of time to read a 2D EPI slice|
|PixelBandwidth| | |
|DwellTime| | |
|PhaseEncodingAxis| |Only populated if polarity of phase encoding is not known. Values `j` or `i`. see `PhaseEncodingDirection ` |
|PhaseEncodingDirection| | Phase axis and polarity. Values `j`,`i`,`j-`,`i-` |
|SliceTiming| | One value for each slice in EPI volume|
|ImageOrientationPatientDICOM| | |
|InPlanePhaseEncodingDirectionDICOM| | |


##### Conversion Tool

Details of software used to convert DICOM to NIfTI/BIDS.

|Field|Notes|Comments|
|-----|-----|-----|
|ConversionSoftware| |`dcm2niix` |
|ConversionSoftwareVersion| | Based on date of release, e.g. [`v1.0.20210317`](https://github.com/rordenlab/dcm2niix/releases)|
